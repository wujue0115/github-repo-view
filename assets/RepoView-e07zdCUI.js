import{d as I,t as B,o as S,c as q,a as o,u as _,b as R,p as U,e as k,f as z,r as y,s as A,g as E,w as F,v as H,i as P,F as D,h as Q,j as N}from"./index-G-Hh23dX.js";const Z="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20color='%23fa0'%20fill='currentColor'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3efork%3c/title%3e%3cpath%20d='M2.016%2026.016q0-1.92%201.088-3.456t2.912-2.176v-8.736q-1.792-0.608-2.912-2.144t-1.088-3.488q0-2.496%201.728-4.256t4.256-1.76%204.256%201.76%201.76%204.256q0%201.92-1.12%203.488t-2.88%202.144v4.736q0.992-0.384%201.984-0.384h8q0.832%200%201.408-0.576t0.608-1.408v-0.352q-1.792-0.608-2.912-2.176t-1.088-3.456q0-2.496%201.728-4.256t4.256-1.76%204.256%201.76%201.76%204.256q0%201.92-1.12%203.456t-2.88%202.176v0.352q0%202.496-1.76%204.256t-4.256%201.76h-8q-0.864%200-1.44%200.608%201.536%200.736%202.496%202.176t0.96%203.2q0%202.496-1.76%204.256t-4.256%201.76-4.256-1.76-1.728-4.256zM6.016%2026.016q0%200.832%200.576%201.44t1.408%200.576%201.408-0.576%200.608-1.44-0.608-1.408-1.408-0.576-1.408%200.576-0.576%201.408zM6.016%206.016q0%200.832%200.576%201.44t1.408%200.576%201.408-0.576%200.608-1.44-0.608-1.408-1.408-0.576-1.408%200.576-0.576%201.408zM22.016%208.032q0%200.832%200.576%201.408t1.408%200.576%201.408-0.576%200.608-1.408-0.608-1.408-1.408-0.608-1.408%200.608-0.576%201.408z'%3e%3c/path%3e%3c/svg%3e",J="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20color='%23fa0'%20width='0'%20height='0'%20fill='currentColor'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.2691%204.41115C11.5006%203.89177%2011.6164%203.63208%2011.7776%203.55211C11.9176%203.48263%2012.082%203.48263%2012.222%203.55211C12.3832%203.63208%2012.499%203.89177%2012.7305%204.41115L14.5745%208.54808C14.643%208.70162%2014.6772%208.77839%2014.7302%208.83718C14.777%208.8892%2014.8343%208.93081%2014.8982%208.95929C14.9705%208.99149%2015.0541%209.00031%2015.2213%209.01795L19.7256%209.49336C20.2911%209.55304%2020.5738%209.58288%2020.6997%209.71147C20.809%209.82316%2020.8598%209.97956%2020.837%2010.1342C20.8108%2010.3122%2020.5996%2010.5025%2020.1772%2010.8832L16.8125%2013.9154C16.6877%2014.0279%2016.6252%2014.0842%2016.5857%2014.1527C16.5507%2014.2134%2016.5288%2014.2807%2016.5215%2014.3503C16.5132%2014.429%2016.5306%2014.5112%2016.5655%2014.6757L17.5053%2019.1064C17.6233%2019.6627%2017.6823%2019.9408%2017.5989%2020.1002C17.5264%2020.2388%2017.3934%2020.3354%2017.2393%2020.3615C17.0619%2020.3915%2016.8156%2020.2495%2016.323%2019.9654L12.3995%2017.7024C12.2539%2017.6184%2012.1811%2017.5765%2012.1037%2017.56C12.0352%2017.5455%2011.9644%2017.5455%2011.8959%2017.56C11.8185%2017.5765%2011.7457%2017.6184%2011.6001%2017.7024L7.67662%2019.9654C7.18404%2020.2495%206.93775%2020.3915%206.76034%2020.3615C6.60623%2020.3354%206.47319%2020.2388%206.40075%2020.1002C6.31736%2019.9408%206.37635%2019.6627%206.49434%2019.1064L7.4341%2014.6757C7.46898%2014.5112%207.48642%2014.429%207.47814%2014.3503C7.47081%2014.2807%207.44894%2014.2134%207.41394%2014.1527C7.37439%2014.0842%207.31195%2014.0279%207.18708%2013.9154L3.82246%2010.8832C3.40005%2010.5025%203.18884%2010.3122%203.16258%2010.1342C3.13978%209.97956%203.19059%209.82316%203.29993%209.71147C3.42581%209.58288%203.70856%209.55304%204.27406%209.49336L8.77835%209.01795C8.94553%209.00031%209.02911%208.99149%209.10139%208.95929C9.16534%208.93081%209.2226%208.8892%209.26946%208.83718C9.32241%208.77839%209.35663%208.70162%209.42508%208.54808L11.2691%204.41115Z'%20stroke='currentColor'%20/%3e%3c/svg%3e",M=t=>(U("data-v-8252098f"),t=t(),k(),t),K={class:"repo-card"},W={class:"repo-top"},X={class:"repo-title"},Y=["href"],e0={class:"repo-info"},t0={class:"repo-fork"},s0=M(()=>o("img",{src:Z,class:"fork-icon",alt:""},null,-1)),o0={class:"repo-star"},r0=M(()=>o("img",{src:J,class:"star-icon",alt:""},null,-1)),n0={class:"repo-description"},c0=I({__name:"RepoCard",props:{repo:{}},setup(t){const s=t,{repo:e}=B(s);return(c,d)=>(S(),q("div",K,[o("div",W,[o("h3",X,[o("a",{href:_(e).html_url,target:"_blank"},R(_(e).name),9,Y)]),o("div",e0,[o("div",t0,[s0,o("span",null,R(_(e).forks_count),1)]),o("div",o0,[r0,o("span",null,R(_(e).stargazers_count),1)])])]),o("p",n0,R(_(e).description),1)]))}}),T=(t,s)=>{const e=t.__vccOpts||t;for(const[c,d]of s)e[c]=d;return e},a0=T(c0,[["__scopeId","data-v-8252098f"]]),i0=(t,s)=>{let e;return(...c)=>{clearTimeout(e),e=setTimeout(()=>t(...c),s)}},p0=(t,s)=>{let e;return(...c)=>{e||(e=setTimeout(()=>{t(...c),e=null},s))}},l0=t=>Object.keys(t).map(e=>`${e}=${t[e]}`).join("&"),O=()=>({debounce:i0,throttle:p0,parseObjectToQueryString:l0}),G=(t={})=>{const{parseObjectToQueryString:s}=O(),e=async(n,u)=>{const r={...t,...u},p=r.baseURL||"",a=s(r.query||{}),m=`${p}${n}${a?`?${a}`:""}`,{onRequest:w,onResponse:f,onError:C}=r;try{const g=w?await w(r):r,v=await fetch(m,g);return f?await f(v):v}catch(g){throw C?await C(g):g}},d=["get","post","put","patch","delete"].reduce((n,u)=>(n[u]=(r,p={})=>{const a={...p,method:u};return e(r,a)},n),{});return Object.assign(e,d)},u0={baseURL:"https://api.github.com/"},V={async onResponse(t){const s=t,e=await t.json();return s.data=e,s}},d0=G({...V}),h0=G({...u0,...V}),_0=()=>({api:d0,githubAPI:h0}),$=z("repo",()=>{const{githubAPI:t}=_0(),s=y([]),e=n=>{s.value=n};return{repos:s,updateRepos:e,extendRepos:n=>{s.value=[...s.value,...n]},getUserRepos:async(n,u={},r=!0,p=e)=>{try{const a=await t.get(`users/${n}/repos`,{query:u});return r&&p(a.data),a}catch(a){return{error:a}}}}}),j=t=>(U("data-v-4d6d2093"),t=t(),k(),t),g0={class:"container"},v0={class:"wrapper"},m0=j(()=>o("h1",{class:"title"},"GitHub Repos",-1)),w0={class:"section-area search-area"},f0=j(()=>o("label",{class:"user-label"},"Username",-1)),C0={class:"repo-list"},R0=I({__name:"RepoView",setup(t){const{debounce:s,throttle:e}=O(),{getUserRepos:c,updateRepos:d,extendRepos:n}=$(),{repos:u}=A($()),r=y("antfu"),p=y({per_page:10,page:1}),a=i=>i!=="",m=async(i,l)=>{d([]),a(r.value)&&await c(i,l)},w=s(m,200),f=()=>{w(r.value,p.value)},C=(i,l)=>{if(!i.target)return!1;const{scrollTop:b,clientHeight:h,scrollHeight:x}=i.target;return(b+h)/x>=l},v=e(async(i,l)=>{C(i,.8)&&(p.value.page+=1,await c(l,p.value,!0,n))},500),L=i=>{v(i,r.value)};return E(async()=>{await m(r.value,p.value)}),(i,l)=>{const b=a0;return S(),q("main",g0,[o("div",v0,[m0,o("section",w0,[f0,F(o("input",{class:"user-input",type:"text",placeholder:"Input a GitHub username","onUpdate:modelValue":l[0]||(l[0]=h=>P(r)?r.value=h:null),onInput:f},null,544),[[H,_(r)]])]),o("section",{class:"section-area repo-area",onScroll:l[1]||(l[1]=h=>L(h))},[o("ul",C0,[(S(!0),q(D,null,Q(_(u),(h,x)=>(S(),N(b,{key:x,repo:h},null,8,["repo"]))),128))])],32)])])}}}),b0=T(R0,[["__scopeId","data-v-4d6d2093"]]);export{b0 as default};
