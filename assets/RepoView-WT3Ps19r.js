import{d as I,r as i,o as x,c as p,a as n,w as T,v as $,u as k,F as q,b as B,e as d,t as H,p as M,f as U}from"./index-hZWroDMJ.js";const v=r=>(M("data-v-0e5356ad"),r=r(),U(),r),V={class:"container"},j={class:"wrapper"},D=v(()=>n("h1",{class:"title"},"GitHub Repos",-1)),F={class:"section-area search-area"},G=v(()=>n("label",{class:"user-label"},"Username",-1)),O={class:"repo-list"},P=I({__name:"RepoView",setup(r){const c=i("antfu"),o=i([]),l=i({per_page:10,page:1}),u=(s,t)=>{let e;return(...a)=>{clearTimeout(e),e=setTimeout(()=>s(...a),t)}},f=(s,t)=>{let e;return(...a)=>{e||(e=setTimeout(()=>{s(...a),e=null},t))}},g=s=>Object.keys(s).map(e=>`${e}=${s[e]}`).join("&"),h=async(s={per_page:10,page:1})=>{const t=g(s),e=`https://api.github.com/users/${c.value}/repos`,a=t?`${e}?${t}`:e;return await(await fetch(a)).json()},S=()=>c.value===""?(alert("Please input a username"),!1):!0,_=async s=>{if(!S())return;const t=await h(s);o.value=t},y=u(_,200),w=()=>{y(l.value)},b=(s,t)=>{if(!s.target)return!1;const{scrollTop:e,clientHeight:a,scrollHeight:m}=s.target;return(e+a)/m>=t},R=f(async s=>{if(!b(s,.8))return;l.value.page+=1;const t=await h(l.value);o.value=[...o.value,...t]},500);return x(()=>{_(l.value)}),(s,t)=>(d(),p("main",V,[n("div",j,[D,n("section",F,[G,T(n("input",{class:"user-input",type:"text",placeholder:"Input a GitHub username","onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),onInput:w},null,544),[[$,c.value]])]),n("section",{class:"section-area repo-area",onScroll:t[1]||(t[1]=e=>k(R)(e))},[n("ul",O,[(d(!0),p(q,null,B(o.value,(e,a)=>(d(),p("li",{class:"repo-item",key:a},H(e.name),1))),128))])],32)])]))}}),C=(r,c)=>{const o=r.__vccOpts||r;for(const[l,u]of c)o[l]=u;return o},z=C(P,[["__scopeId","data-v-0e5356ad"]]);export{z as default};
